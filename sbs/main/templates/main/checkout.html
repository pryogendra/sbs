{% extends 'main/base.html' %}
{% load static %}

{% block title %}Checkout{% endblock %}

{% block content %}
<div class="form-container">
    <h1>Confirm Purchase & Delivery</h1>
    
    <p style="text-align: center; color: var(--secondary-color); margin-bottom: 25px;">
        Item: {{ product.name }} - â‚¹{{ product.price|floatformat:2 }}
    </p>
    {% if product.slug %}
    <form action="{% url 'main:checkout' slug=product.slug %}" method="POST">
    {% else %}
    <p class="error-message">Error: Product ID not found for purchase.</p>
    {% endif %}
        {% csrf_token %}
        
        <h2>Customer Information</h2>
        
        <div class="django-form-container">
            <!-- Render form fields manually for better layout control -->
            <div class="form-group">
                <label for="{{ form.full_name.id_for_label }}">Full Name *</label>
                {{ form.full_name }}
            </div>
            
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">Email Address *</label>
                {{ form.email }}
            </div>

            <div class="form-group">
                <label for="{{ form.phone_number.id_for_label }}">Phone Number *</label>
                {{ form.phone_number }}
            </div>
        </div>
        
        <h2>Shipping Address</h2>
        <div class="django-form-container">
            <div class="form-group">
                <label for="{{ form.street_address.id_for_label }}">Street Address *</label>
                {{ form.street_address }}
            </div>
            
            <div class="form-row">
                <div class="form-column form-group">
                    <label for="{{ form.city.id_for_label }}">City *</label>
                    {{ form.city }}
                </div>
                <div class="form-column form-group">
                    <label for="{{ form.pincode.id_for_label }}">Pincode *</label>
                    {{ form.pincode }}
                </div>
            </div>
        </div>

        <button type="submit" class="submit-button">Place Order & Proceed to Payment</button>
    </form>
    
    <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; color: #999;">
        Note: This form submits the order details to the server and requires a secure backend.
    </p>
</div>
{% endblock %}
